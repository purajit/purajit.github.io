<!DOCTYPE html>
<head>
    <title>purajit | garlic pickle</title>
    <link rel="stylesheet" href="/static/index.css">
    <meta charset="utf-8"/>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico"/>
</head>
<body class="bgimg ">
    <div id="main">
        <div id="name">
            <a href="/recipes">‚Üê</a>
            garlic pickle</div>
        <div id="contents">

<div class="recipe-card">
    <div class="recipe-sidebar">
        <div id="recipe-servings">
            <input type="text" basevalue="1" value="1"> serving<span class="plural">s</span>
        </div>

        <div class="recipe-ingredients">
            <div class="table">
                <div class="table-row table-header">
                    <div class="table-column">Ingredient</div>
                    <div class="table-column">Amount</div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">garlic</div>
                    <div class="table-column recipe-ingredient"><span basevalue="20" class="ingredient-amount">20</span>&nbsp;clove<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">green chilies</div>
                    <div class="table-column recipe-ingredient"><span basevalue="6" class="ingredient-amount">6</span>&nbsp;
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">finely-sliced ginger</div>
                    <div class="table-column recipe-ingredient"><span basevalue="3" class="ingredient-amount">3</span>&nbsp;tbsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">sesame oil</div>
                    <div class="table-column recipe-ingredient"><span basevalue="5" class="ingredient-amount">5</span>&nbsp;tsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">turmeric</div>
                    <div class="table-column recipe-ingredient"><span basevalue="1" class="ingredient-amount">1</span>&nbsp;tsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">curry leaves</div>
                    <div class="table-column recipe-ingredient"><span basevalue="3" class="ingredient-amount">3</span>&nbsp;sprig<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">salt</div>
                    <div class="table-column recipe-ingredient"><span basevalue="3" class="ingredient-amount">3</span>&nbsp;tsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">kashmiri red chilly powder</div>
                    <div class="table-column recipe-ingredient"><span basevalue="3" class="ingredient-amount">3</span>&nbsp;tbsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">hing</div>
                    <div class="table-column recipe-ingredient"><span basevalue="1" class="ingredient-amount">1</span>&nbsp;tsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">fenugreek (?)</div>
                    <div class="table-column recipe-ingredient"><span basevalue="0.5" class="ingredient-amount">0.5</span>&nbsp;tsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">sasve</div>
                    <div class="table-column recipe-ingredient"><span basevalue="2" class="ingredient-amount">2</span>&nbsp;tsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">jaggery</div>
                    <div class="table-column recipe-ingredient"><span basevalue="1" class="ingredient-amount">1</span>&nbsp;tbsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">white vinegar</div>
                    <div class="table-column recipe-ingredient"><span basevalue="3" class="ingredient-amount">3</span>&nbsp;tbsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">ginger julienned</div>
                    <div class="table-column recipe-ingredient"><span basevalue="3" class="ingredient-amount">3</span>&nbsp;inch<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">fennel seeds</div>
                    <div class="table-column recipe-ingredient"><span basevalue="0.5" class="ingredient-amount">0.5</span>&nbsp;tsp<span class="plural">s</span>
                    </div>
                </div>
                
                <div class="table-row">
                    <div class="table-column">coriander seeds</div>
                    <div class="table-column recipe-ingredient"><span basevalue="0.67" class="ingredient-amount">0.67</span>&nbsp;tbsp<span class="plural">s</span>
                    </div>
                </div>
                
            </div>
        </div>

        <div class="recipe-sources">
            
            <a class="hyperlink" href="https://food52.com/recipes/76582-south-indian-hot-and-sweet-garlic-pickle">https://food52.com/recipes/76582-south-indian-hot-and-sweet-garlic-pickle</a><br/>
            
            <a class="hyperlink" href="https://hebbarskitchen.com/garlic-pickle-recipe-ahsun-ka-achar/">https://hebbarskitchen.com/garlic-pickle-recipe-ahsun-ka-achar/</a><br/>
            
            <a class="hyperlink" href="https://recipes.timesofindia.com/us/recipes/garlic-pickle/rs58413147.cms">https://recipes.timesofindia.com/us/recipes/garlic-pickle/rs58413147.cms</a><br/>
            
        </div>
    </div>
    <div class="recipe-steps">
        
        <div class="recipe-step">
            TODO: read recipes and finalize
        </div>
        
        <div class="recipe-step">
            Clean and peel garlic cloves, slit green chilies
        </div>
        
    </div>
</div>
<script>
 let SERVINGS_DIV;
 let INGREDIENT_DIVS;

 function getServings() {
     return parseFloat(SERVINGS_DIV.getElementsByTagName("input")[0].value);
 }

 function updateAmounts() {
     for (let i = 0; i < INGREDIENT_DIVS.length; i++) {
         const ingredientDiv = INGREDIENT_DIVS[i];
         const amounts = ingredientDiv.getElementsByClassName("ingredient-amount");
         if (amounts.length == 0) {
             continue;
         }

         const baseValue = parseFloat(amounts[0].getAttribute("basevalue"));
         const servingScale = getServings() / parseFloat(SERVINGS_DIV.getElementsByTagName("input")[0].getAttribute("basevalue"));
         amounts[0].textContent = baseValue * servingScale;
     }
 }

 function setPlurals() {
     SERVINGS_DIV.getElementsByClassName("plural")[0].hidden = (getServings() == 1);

     for (let i = 0; i < INGREDIENT_DIVS.length; i++) {
         const ingredientDiv = INGREDIENT_DIVS[i];
         const amounts = ingredientDiv.getElementsByClassName("ingredient-amount");
         if (amounts.length == 0) {
             return;
         }

         const ingredientAmount = parseFloat(amounts[0].textContent);
         const plurals = ingredientDiv.getElementsByClassName("plural");
         if (plurals.length != 0) {
             plurals[0].hidden = (ingredientAmount == 1);
         }
     }
 }

 window.onload = function() {
     SERVINGS_DIV = document.getElementById("recipe-servings");
     INGREDIENT_DIVS = document.getElementsByClassName("recipe-ingredient");
     SERVINGS_DIV.getElementsByTagName("input")[0].addEventListener('input', function() {
         updateAmounts();
         setPlurals();
     });
     setPlurals();
 }
</script>
        </div>
    </div>
</body>